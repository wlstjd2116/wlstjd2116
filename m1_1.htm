<!doctype html>
<html lang="ko">
<head>
<title></title>
<meta charset="utf-8">

<meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'">

<meta name="msapplication-tap-highlight" content="no">
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1.0, minimum-scale=1.0, width=device-width, viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<link rel="stylesheet" href="css/style.css">
<script src="js/jquery.min.js"></script>

</head>

<body>

<header>
	<div class="wrap">
		<h1 id="docTitle"></h1>
		<a href="#" class="Left"><img src="img/arrow_left.png" alt="back" onClick="javascript:history.back(-1);"></a>
	</div>

	<nav>
		<ul class="wrap">
			<li id="menuOn_0"><a href="index.htm" id="appMenu0"><img src="img/icon_home2.png">처음으로</a></li>
			<li id="menuOn_1"><a href="m1.htm?menu=1" id="appMenu1"><img src="img/icon_pay.png">유료입장</a></li>
			<li id="menuOn_2"><a href="m2.htm?menu=2" id="appMenu2"><img src="img/icon_free.png" height="25px">무료입장</a></li>
		</ul>
	</nav>
</header>

<div id="content" class="content">
	<div class="wrap">
		<h2>유료입장 상세보기</h2>
		<h3><img src="img/unbook.png" class="bkmark" width="auto" height="20px"/></h3>
		<div id="m_content" class="m_content">
			<dl class="m1_view">
				<dt>사진</dt>
				<dd id="image"></dd>
			</dl>
			<dl class="m1_view">
				<dt class="num">관광지명</dt>
				<dd id="desName"></dd>
			</dl>
			<dl class="m1_view">
				<dt>주소</dt>
				<dd id="desAddress"></dd>
			</dl>
			<dl class="m1_view">
				<dt>영업시간</dt>
				<dd id="openTime"></dd>
			</dl>
			<dl class="m1_view">
				<dt>주말시간</dt>
				<dd id="wkndTime"></dd>
			</dl>
			<dl class="m1_view">
				<dt>입장료</dt>
				<dd id="fee"></dd>
			</dl>
			
		</div>

	<div>
</div>

<script src="js/app.common.js"></script>
<script src="db/RouteList.js"></script>

<script>

for(var i=0; i < getRouteList.length; i++) {

	var Data = getRouteList[i];
	var routeId = Data[0];

	if (routeId != routeid) {
		continue;
	}

	var routeName = Data[1]; //관광지명
	var desAddress = Data[2]; //관광지 주소
	var opTime = Data[3]; // 개장시간
	var endTime = Data[4]; // 폐장시간
	var wkndOpTime = Data[5]; // 주말 개장시간
	var wkndEndTime = Data[6]; // 주말 폐장시간
	var fee = Data[7]; // 입장료

	//이미지
	var img = "";
	img += "<img src='img/"+routeId+".jpg' alt="+routeId+" width='500px' height='300px'>";

	// 주소
	var outDesAdd = ""; 
	if (desAddress) outDesAdd += "주소 : " + desAddress;

	// 평일시간
	var normalTime = "";
	if (opTime) normalTime += "개장시간 : " + opTime;
	if (endTime) normalTime += "<br>폐장시간 : " + endTime;

	// 주말시간
	var wkndTime = "";
	if (wkndOpTime) wkndTime += "개장시간 : " +  wkndOpTime;
	if (wkndEndTime) wkndTime += "<br>폐장시간 : " +  wkndEndTime;
	
	wkndTime = wkndTime.replace(/-/gi,'<br> -> ');

	// 입장료
	var pay = "";
	if (fee) pay += fee;

	$('#image').html(img);
	$('#desName').html(routeName);
	$('#wkndTime').html(wkndTime);
	$('#desAddress').html(outDesAdd);
	$('#openTime').html(normalTime);
	$('#fee').html(pay);

}

var cnt = 0;
var bookList = [];
$('.bkmark').click(function () {
	if (cnt === 0){
		$('.bkmark').attr('src', './img/book.png');
		cnt++;
		bookList.push(JSON.parse(localStorage.getItem('session')));
		localStorage.setItem('session', JSON.stringify(bookList));
	}
	else {
		$('.bkmark').attr('src', './img/unbook.png');
		cnt = 0;
		localStorage.removeItem('book');
	}
	console.log(localStorage.getItem('book'));
})
</script>

</body>
</html>